<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>VAZy ‚Äì Under Development</title>
<script src="https://cdn.tailwindcss.com"></script>
</head>

<style>
.animate-fadeIn {animation: fadeIn 1s forwards;}
.delay-200 {animation-delay:0.2s;}
.delay-400 {animation-delay:0.4s;}
.delay-600 {animation-delay:0.6s;}
.delay-800 {animation-delay:0.8s;}
@keyframes fadeIn {from {opacity:0; transform: translateY(10px);} to {opacity:1; transform: translateY(0);}}
</style>

<body class="bg-gradient-to-b from-gray-900 to-gray-800 text-gray-100 min-h-screen">

<!-- ================= LOGIN SCREEN ================ -->
<div id="loginScreen" class="flex flex-col items-center justify-center min-h-screen px-6">
  <div class="bg-gray-800 p-8 rounded-xl shadow-xl w-full max-w-sm">
    <h2 class="text-2xl font-bold mb-4 text-center">Login</h2>

    <input id="loginUser" type="text" placeholder="Username" class="mb-3 p-3 w-full bg-gray-900 rounded-lg">
    <input id="loginPass" type="password" placeholder="Password" class="mb-3 p-3 w-full bg-gray-900 rounded-lg">
    
    <button id="loginBtn" class="w-full bg-blue-600 hover:bg-blue-700 p-3 rounded-lg font-bold">
      Log In
    </button>

    <div id="adminCreateSection" class="mt-4 text-center hidden">
      <button id="createAdminBtn" class="w-full bg-yellow-500 hover:bg-yellow-600 p-2 rounded-md font-bold">
        Create Admin Account
      </button>
    </div>

    <p id="loginMsg" class="text-red-400 text-center mt-3"></p>
  </div>
</div>


<!-- ================= SITE CONTENT ================ -->
<div id="siteContent" class="hidden">

<!-- ================= ADMIN MENU BAR ================ -->
<div id="adminMenu" class="hidden fixed top-0 left-0 w-full bg-black/90 text-white p-4 flex justify-between shadow-xl z-50 border-b border-gray-700">
  <span class="font-bold text-lg text-yellow-400">‚öôÔ∏è ADMIN PANEL</span>

  <div class="flex gap-2 text-sm">

    <button id="dashboardBtn" class="bg-blue-600 px-4 py-2 rounded">Dashboard</button>
    <button id="usersBtn" class="bg-purple-600 px-4 py-2 rounded">Users</button>
    <button id="logBtn" class="bg-amber-500 px-4 py-2 rounded">Logs</button>

    <button id="toggleSiteBtn" class="bg-red-600 px-4 py-2 rounded">Close Site</button>
    <button id="maintBtn" class="bg-orange-600 px-4 py-2 rounded">Maintenance OFF</button>

    <button id="clearAllBtn" class="bg-red-700 px-3 py-2 rounded text-xs">Clear Accounts</button>
    <button id="logoutBtn" class="bg-gray-700 px-4 py-2 rounded">Logout</button>
  </div>
</div>

<!-- ===== ADMIN WINDOWS ===== -->
<div id="adminWindows"></div>

<!-- MAIN PAGE CONTENT AFTER LOGIN -->
<div id="pageContent" class="pt-24 text-center">
  <h1 class="text-4xl font-extrabold mb-2 animate-fadeIn">VAZy</h1>
  <p class="text-lg text-gray-300 animate-fadeIn delay-200">üöß Coming January 2026</p>
</div>

</div>

<script>
/*** LOCAL STORAGE KEYS:
 admin, adminPass
 user, pass
 loggedIn = "admin" / "user"
 siteClosed = true/false
 maint = true/false
 logs = JSON text
***/

const log = (txt) => {
  const logs = JSON.parse(localStorage.getItem("logs") || "[]");
  logs.push(Date.now() + " ‚Äî " + txt);
  localStorage.setItem("logs", JSON.stringify(logs));
};

// SHOW admin create if not exists
if (!localStorage.getItem("admin")) {
  adminCreateSection.classList.remove("hidden");
}

// CREATE admin account
createAdminBtn?.addEventListener("click", () => {
  const u = prompt("Admin username:");
  const p = prompt("Admin password:");
  if (!u || !p) return alert("Need both!");
  localStorage.setItem("admin", u);
  localStorage.setItem("adminPass", p);
  log("Admin Created");
  alert("‚úÖ Admin created!");
  location.reload();
});

// LOGIN handler
loginBtn.onclick = () => {
  const u = loginUser.value, p = loginPass.value;

  // ADMIN LOGIN
  if (u === localStorage.getItem("admin") && p === localStorage.getItem("adminPass")) {
    localStorage.setItem("loggedIn","admin");
    log(`Admin logged in`);
    location.reload(); return;
  }

  // USER LOGIN (AUTO CREATE FIRST USER)
  if (!localStorage.getItem("user")) {
    localStorage.setItem("user", u);
    localStorage.setItem("pass", p);
  }

  if (u === localStorage.getItem("user") && p === localStorage.getItem("pass")) {
    localStorage.setItem("loggedIn","user");
    location.reload();
  } else loginMsg.textContent = "‚ùå Wrong credentials";
};

// STATE on load
function load() {
  const role = localStorage.getItem("loggedIn");
  const closed = localStorage.getItem("siteClosed") === "true";
  const maint = localStorage.getItem("maint") === "true";

  if (!role) return;

  loginScreen.classList.add("hidden");
  siteContent.classList.remove("hidden");

  if (role === "admin") {
    adminMenu.classList.remove("hidden");
    maintBtn.textContent = maint ? "Maintenance ON" : "Maintenance OFF";
  }

  if (closed && role !== "admin") {
    document.body.innerHTML = "<div class='text-center mt-48 text-3xl'>üö´ Site is closed by Admin</div>";
  }

  if (maint && role !== "admin") {
    document.body.innerHTML = "<div class='text-center mt-48 text-3xl'>üõ†Ô∏è Maintenance Mode</div>";
  }
}
load();


// ===== Buttons =====
logoutBtn?.addEventListener("click",()=>{ localStorage.removeItem("loggedIn"); location.reload(); });

toggleSiteBtn?.addEventListener("click",()=>{
  const cur = localStorage.getItem("siteClosed")==="true";
  localStorage.setItem("siteClosed", !cur);
  log("Toggled Site");
  location.reload();
});

maintBtn?.addEventListener("click",()=>{
  const cur = localStorage.getItem("maint")==="true";
  localStorage.setItem("maint", !cur);
  log("Maintenance toggled");
  location.reload();
});

// USERS window
usersBtn?.addEventListener("click",()=>{
  alert(`üë§ Users:\nUser: ${localStorage.getItem("user")}\nAdmin: ${localStorage.getItem("admin")}`);
});

// LOGS window
logBtn?.addEventListener("click",()=>{
  alert("Admin Logs:\n\n" + (JSON.parse(localStorage.getItem("logs")||"[]").join("\n")));
});

// DASHBOARD window
dashboardBtn?.addEventListener("click",()=>{
  alert("üìä Admin Dashboard Coming Soon");
});

// CLEAR ALL
clearAllBtn?.addEventListener("click",()=>{
  if(confirm("‚ö†Ô∏è DELETE ALL accounts and settings?")){
    localStorage.clear();
    location.reload();
  }
});
</script>

</body>
</html>
